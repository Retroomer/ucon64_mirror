diff -Naur ucon64/src/Makefile ucon64.dos/src/Makefile
--- ucon64/src/Makefile	2021-10-05 10:31:02.494511200 +0900
+++ ucon64.dos/src/Makefile	2021-10-29 06:50:16.029688900 +0900
@@ -11,7 +11,7 @@
 CFLAGS0:=$(CFLAGS)
 include config.mak
 
-CFLAGS+=-I. -Wall -W -Wno-implicit-fallthrough -O3 -fsigned-char
+CFLAGS+=-I. -Werror -Wall -W -Wno-implicit-fallthrough -O3 -fsigned-char
 ifneq ($(findstring clang,$(CC)),clang)
 CFLAGS+=-Wno-format-truncation -Wno-stringop-overflow
 endif
@@ -41,7 +41,7 @@
 ifdef USE_DISCMAGE
 FULLLIBNAME_DM=$(LIBNAME_DM).dll
 ifndef DLOPEN
-LDFLAGS+=libdiscmage/$(LIBNAME_DM).a
+LDFLAGS+=discmage/$(LIBNAME_DM).a
 endif
 endif
 
@@ -51,7 +51,7 @@
 ifdef USE_DISCMAGE
 FULLLIBNAME_DM=$(LIBNAME_DM).dxe
 ifndef DLOPEN
-LDFLAGS+=libdiscmage/$(LIBNAME_DM).a
+LDFLAGS+=discmage/$(LIBNAME_DM).a
 endif
 endif
 
@@ -78,7 +78,7 @@
 else                                    # DLOPEN
 ifdef USE_DISCMAGE                      # GNU specific: "simply expanded variable"
 FULLLIBNAME_DM:=$(addprefix lib,$(FULLLIBNAME_DM))
-LDFLAGS+=-Llibdiscmage -l$(LIBNAME_DM)
+LDFLAGS+=-Ldiscmage -l$(LIBNAME_DM)
 endif
 
 endif
@@ -87,7 +87,7 @@
 endif                                   # GCC_WIN
 
 ifdef USE_DISCMAGE
-TARGETS+=libdiscmage/$(FULLLIBNAME_DM)
+TARGETS+=discmage/$(FULLLIBNAME_DM)
 endif
 
 
@@ -104,7 +104,7 @@
 endif
 
 
-OBJECTS=ucon64.o ucon64_dat.o ucon64_misc.o ucon64_opts.o \
+OBJECTS=ucon64.o ucon64da.o ucon64mi.o ucon64op.o \
         misc/chksum.o misc/file.o misc/getopt2.o misc/misc.o misc/property.o \
         misc/string.o misc/term.o \
         console/atari.o console/coleco.o console/console.o console/dc.o \
@@ -113,12 +113,12 @@
         console/nes.o console/ngp.o console/pce.o console/psx.o console/sms.o \
         console/snes.o console/swan.o console/vboy.o \
         backup/backup.o backup/cc2.o backup/cmc.o backup/doctor64.o \
-        backup/doctor64jr.o backup/f2a.o backup/fal.o backup/ffe.o \
-        backup/fig.o backup/gbx.o backup/gd.o backup/interceptor.o \
+        backup/doctorjr.o backup/f2a.o backup/fal.o backup/ffe.o \
+        backup/fig.o backup/gbx.o backup/gd.o backup/intercep.o \
         backup/lynxit.o backup/mccl.o backup/mcd.o backup/md-pro.o \
         backup/mgd.o backup/mgh.o backup/msg.o backup/nfc.o backup/pce-pro.o \
-        backup/pl.o backup/quickdev16.o backup/sc.o backup/sflash.o \
-        backup/smc.o backup/smcic2.o backup/smd.o backup/smsgg-pro.o \
+        backup/pl.o backup/quickdev.o backup/sc.o backup/sflash.o \
+        backup/smc.o backup/smcic2.o backup/smd.o backup/smsggpro.o \
         backup/spsc.o backup/ssc.o backup/swc.o backup/tototek.o backup/ufo.o \
         backup/ufosd.o backup/yoko.o backup/z64.o \
         patch/aps.o patch/bsl.o patch/gg.o patch/ips.o patch/patch.o patch/ppf.o
@@ -178,19 +178,19 @@
 
 
 ifdef USE_DISCMAGE
-.PHONY: libdiscmage/$(FULLLIBNAME_DM)
-libdiscmage/$(FULLLIBNAME_DM):
+.PHONY: discmage/$(FULLLIBNAME_DM)
+discmage/$(FULLLIBNAME_DM):
 ifeq ($(GCC_WIN),1)
-	cd libdiscmage && CFLAGS="$(CFLAGS0)" LDFLAGS="$(LDFLAGS0)" $(MAKE)
+	cd discmage && CFLAGS="$(CFLAGS0)" LDFLAGS="$(LDFLAGS0)" $(MAKE)
 else
 ifeq ($(OSTYPE),DJGPP)
-	cd libdiscmage
+	cd discmage
 	set CFLAGS=$(CFLAGS0)
 	set LDFLAGS=$(LDFLAGS0)
 	$(MAKE)
 	cd ..
 else
-	cd libdiscmage && CFLAGS="$(CFLAGS0)" LDFLAGS="$(LDFLAGS0)" $(MAKE)
+	cd discmage && CFLAGS="$(CFLAGS0)" LDFLAGS="$(LDFLAGS0)" $(MAKE)
 endif                                   # DJGPP
 endif                                   # GCC_WIN
 endif                                   # USE_DISCMAGE
@@ -246,7 +246,7 @@
 endif                                   # BeOS
 endif                                   # DJGPP
 ifndef DLOPEN
-	cd libdiscmage && $(MAKE) install
+	cd discmage && $(MAKE) install
 endif
 
 
@@ -259,12 +259,12 @@
 endif                                   # BeOS
 endif                                   # DJGPP
 ifndef DLOPEN
-	cd libdiscmage && $(MAKE) uninstall
+	cd discmage && $(MAKE) uninstall
 endif
 
 
 CLEAN_CMD=rm -f $(TARGET) $(OBJECTS) *.core *.stackdump *~ */*~ */*/*~; \
-cd libdiscmage && $(MAKE) clean; \
+cd discmage && $(MAKE) clean; \
 cd ../backup/libcd64 && $(MAKE) clean
 
 clean:
@@ -278,7 +278,7 @@
 	del backup\*.o
 	del misc\*.o
 	del $(TARGET)
-	cd libdiscmage
+	cd discmage
 	$(MAKE) clean
 	cd ..\backup\libcd64
 	$(MAKE) clean
@@ -290,7 +290,7 @@
 
 
 DISTCLEAN_CMD=rm -f config.mak config.log config.status config.cache config.h; \
-cd libdiscmage && $(MAKE) distclean; \
+cd discmage && $(MAKE) distclean; \
 cd ../backup/libcd64 && $(MAKE) clean
 # libcd64 Makefile has no distclean target
 
@@ -304,7 +304,7 @@
 	del config.status
 	del config.cache
 	del config.h
-	cd libdiscmage
+	cd discmage
 	$(MAKE) distclean
 	cd ..\backup\libcd64
 	$(MAKE) clean
@@ -324,13 +324,13 @@
 GETOPT2_H_DEPS=misc/getopt2.h misc/getopt.h
 MISC_H_DEPS=misc/misc.h misc/snprintf.h misc/itypes.h
 TERM_H_DEPS=misc/term.h misc/snprintf.h
-UCON64_H_DEPS=ucon64.h misc/itypes.h misc/parallel.h ucon64_defines.h
-UCON64_DAT_H_DEPS=ucon64_dat.h $(GETOPT2_H_DEPS) misc/itypes.h
-UCON64_MISC_H_DEPS=ucon64_misc.h $(GETOPT2_H_DEPS) misc/itypes.h
+UCON64_H_DEPS=ucon64.h misc/itypes.h misc/parallel.h ucon64de.h
+UCON64_DAT_H_DEPS=ucon64da.h $(GETOPT2_H_DEPS) misc/itypes.h
+UCON64_MISC_H_DEPS=ucon64mi.h $(GETOPT2_H_DEPS) misc/itypes.h
 ifdef USE_DISCMAGE
-UCON64_MISC_H_DEPS+=libdiscmage/libdiscmage.h
+UCON64_MISC_H_DEPS+=discmage/discmage.h
 endif
-UCON64_OPTS_H_DEPS=ucon64_opts.h $(UCON64_H_DEPS)
+UCON64_OPTS_H_DEPS=ucon64op.h $(UCON64_H_DEPS)
 CONSOLE_DEPS=$(GETOPT2_H_DEPS) $(UCON64_H_DEPS)
 CONSOLE_H_DEPS=console/console.h $(CONSOLE_DEPS)
 SNES_H_DEPS=console/snes.h $(CONSOLE_DEPS) backup/fig.h
@@ -346,14 +346,14 @@
           console/nes.h console/ngp.h console/pce.h console/psx.h \
           console/sms.h $(SNES_H_DEPS) console/swan.h console/vboy.h \
           backup/backup.h backup/cd64.h backup/cmc.h backup/doctor64.h \
-          backup/doctor64jr.h backup/f2a.h backup/fal.h backup/gbx.h \
+          backup/doctorjr.h backup/f2a.h backup/fal.h backup/gbx.h \
           backup/gd.h backup/lynxit.h backup/mccl.h backup/mcd.h \
           backup/md-pro.h backup/msg.h backup/pce-pro.h backup/pl.h \
-          backup/quickdev16.h backup/sflash.h backup/smc.h backup/smcic2.h \
-          backup/smd.h backup/smsgg-pro.h backup/swc.h backup/ufosd.h \
+          backup/quickdev.h backup/sflash.h backup/smc.h backup/smcic2.h \
+          backup/smd.h backup/smsggpro.h backup/swc.h backup/ufosd.h \
           patch/aps.h patch/bsl.h patch/gg.h patch/ips.h patch/patch.h \
           patch/ppf.h
-ucon64_dat.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
+ucon64da.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
               misc/property.h misc/string.h $(UCON64_DAT_H_DEPS) \
               $(UCON64_MISC_H_DEPS) \
               console/atari.h console/coleco.h $(CONSOLE_H_DEPS) console/dc.h \
@@ -361,11 +361,11 @@
               console/lynx.h console/n64.h console/neogeo.h console/nes.h \
               console/ngp.h console/pce.h console/sms.h $(SNES_H_DEPS) \
               console/swan.h console/vboy.h backup/backup.h
-ucon64_misc.o: config.h $(ARCHIVE_H_DEPS) $(BSWAP_H_DEPS) $(CHKSUM_H_DEPS) \
+ucon64mi.o: config.h $(ARCHIVE_H_DEPS) $(BSWAP_H_DEPS) $(CHKSUM_H_DEPS) \
                $(FILE_H_DEPS) $(MISC_H_DEPS) misc/property.h misc/string.h \
                $(TERM_H_DEPS) $(UCON64_H_DEPS) $(UCON64_DAT_H_DEPS) \
                $(UCON64_MISC_H_DEPS) misc/dlopen.h
-ucon64_opts.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
+ucon64op.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
                misc/string.h $(TERM_H_DEPS) $(UCON64_DAT_H_DEPS) \
                $(UCON64_MISC_H_DEPS) $(UCON64_OPTS_H_DEPS) \
                console/dc.h console/gb.h console/gba.h console/genesis.h \
@@ -373,11 +373,11 @@
                console/nes.h console/pce.h console/sms.h $(SNES_H_DEPS) \
                console/swan.h \
                backup/backup.h backup/cd64.h backup/cmc.h backup/doctor64.h \
-               backup/doctor64jr.h backup/f2a.h backup/fal.h backup/gbx.h \
+               backup/doctorjr.h backup/f2a.h backup/fal.h backup/gbx.h \
                backup/gd.h backup/lynxit.h backup/mccl.h backup/mcd.h \
                backup/md-pro.h backup/msg.h backup/pce-pro.h backup/pl.h \
-               backup/quickdev16.h backup/sflash.h backup/smc.h \
-               backup/smcic2.h backup/smd.h backup/smsgg-pro.h backup/swc.h \
+               backup/quickdev.h backup/sflash.h backup/smc.h \
+               backup/smcic2.h backup/smd.h backup/smsggpro.h backup/swc.h \
                backup/ufosd.h \
                patch/aps.h patch/bsl.h patch/gg.h patch/ips.h patch/ppf.h
 backup/backup.o: config.h backup/backup.h $(GETOPT2_H_DEPS)
@@ -387,8 +387,8 @@
 backup/cmc.o: config.h $(ARCHIVE_H_DEPS) $(BSWAP_H_DEPS) $(MISC_H_DEPS) \
               $(TERM_H_DEPS) $(UCON64_H_DEPS) $(UCON64_MISC_H_DEPS) \
               backup/cmc.h
-backup/doctor64jr.o: config.h $(ARCHIVE_H_DEPS) $(UCON64_H_DEPS) \
-                     $(UCON64_MISC_H_DEPS) backup/doctor64jr.h
+backup/doctorjr.o: config.h $(ARCHIVE_H_DEPS) $(UCON64_H_DEPS) \
+                     $(UCON64_MISC_H_DEPS) backup/doctorjr.h
 backup/doctor64.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(UCON64_H_DEPS) \
                    $(UCON64_MISC_H_DEPS) backup/doctor64.h
 backup/f2a.o: config.h misc/usb.h $(ARCHIVE_H_DEPS) $(BSWAP_H_DEPS) \
@@ -406,7 +406,7 @@
 backup/gd.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
              misc/parallel.h misc/property.h misc/string.h $(TERM_H_DEPS) \
              $(UCON64_MISC_H_DEPS) $(SNES_H_DEPS) backup/gd.h
-backup/interceptor.o: config.h backup/interceptor.h $(GETOPT2_H_DEPS)
+backup/intercep.o: config.h backup/intercep.h $(GETOPT2_H_DEPS)
 backup/lynxit.o: config.h $(ARCHIVE_H_DEPS) misc/parallel.h $(TERM_H_DEPS) \
                  $(UCON64_MISC_H_DEPS) console/lynx.h backup/lynxit.h
 backup/mccl.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(UCON64_H_DEPS) \
@@ -417,7 +417,7 @@
                  $(UCON64_MISC_H_DEPS) backup/tototek.h backup/md-pro.h
 backup/mgd.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) misc/string.h \
               $(UCON64_H_DEPS) $(UCON64_MISC_H_DEPS) backup/mgd.h
-backup/mgh.o: config.h $(FILE_H_DEPS) misc/string.h ucon64_defines.h backup/mgh.h
+backup/mgh.o: config.h $(FILE_H_DEPS) misc/string.h ucon64de.h backup/mgh.h
 backup/msg.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
               $(UCON64_H_DEPS) $(UCON64_MISC_H_DEPS) backup/ffe.h backup/msg.h
 backup/nfc.o: config.h backup/nfc.h $(GETOPT2_H_DEPS)
@@ -425,9 +425,9 @@
                   $(UCON64_MISC_H_DEPS) backup/tototek.h backup/pce-pro.h
 backup/pl.o: config.h $(ARCHIVE_H_DEPS) $(UCON64_H_DEPS) $(UCON64_MISC_H_DEPS) \
              backup/pl.h
-backup/quickdev16.o: config.h $(ARCHIVE_H_DEPS) $(MISC_H_DEPS) $(TERM_H_DEPS) \
+backup/quickdev.o: config.h $(ARCHIVE_H_DEPS) $(MISC_H_DEPS) $(TERM_H_DEPS) \
                      misc/usb.h $(UCON64_MISC_H_DEPS) $(SNES_H_DEPS) \
-                     backup/quickdev16.h
+                     backup/quickdev.h
 backup/sc.o: config.h backup/sc.h $(GETOPT2_H_DEPS)
 backup/sflash.o: config.h $(ARCHIVE_H_DEPS) $(UCON64_H_DEPS) \
                  $(UCON64_MISC_H_DEPS) backup/tototek.h backup/sflash.h
@@ -438,8 +438,8 @@
                  backup/swc.h
 backup/smd.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
               $(UCON64_H_DEPS) $(UCON64_MISC_H_DEPS) backup/ffe.h backup/smd.h
-backup/smsgg-pro.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(UCON64_H_DEPS) \
-                    $(UCON64_MISC_H_DEPS) backup/tototek.h backup/smsgg-pro.h
+backup/smsggpro.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(UCON64_H_DEPS) \
+                    $(UCON64_MISC_H_DEPS) backup/tototek.h backup/smsggpro.h
 backup/spsc.o: config.h backup/spsc.h $(GETOPT2_H_DEPS)
 backup/ssc.o: config.h backup/ssc.h $(GETOPT2_H_DEPS)
 backup/swc.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) \
@@ -496,7 +496,7 @@
 console/psx.o: config.h console/psx.h $(CONSOLE_DEPS)
 console/sms.o: config.h $(ARCHIVE_H_DEPS) $(CHKSUM_H_DEPS) $(FILE_H_DEPS) \
                $(MISC_H_DEPS) misc/string.h $(UCON64_MISC_H_DEPS) \
-               console/sms.h backup/mgd.h backup/smd.h backup/smsgg-pro.h \
+               console/sms.h backup/mgd.h backup/smd.h backup/smsggpro.h \
                $(CONSOLE_DEPS)
 console/snes.o: config.h $(ARCHIVE_H_DEPS) $(BSWAP_H_DEPS) $(CHKSUM_H_DEPS) \
                 $(FILE_H_DEPS) $(MISC_H_DEPS) misc/string.h $(TERM_H_DEPS) \
@@ -510,7 +510,7 @@
                 $(CONSOLE_H_DEPS) console/vboy.h backup/backup.h
 misc/archive.o: config.h $(ARCHIVE_H_DEPS) misc/map.h
 misc/chksum.o: config.h $(BSWAP_H_DEPS) $(CHKSUM_H_DEPS) $(MISC_H_DEPS)
-misc/dlopen.o: config.h misc/dlopen.h misc/dxedll_pub.h misc/map.h
+misc/dlopen.o: config.h misc/dlopen.h misc/dxedllpu.h misc/map.h
 misc/file.o: config.h $(ARCHIVE_H_DEPS) $(FILE_H_DEPS) $(MISC_H_DEPS) misc/string.h
 misc/getopt.o: config.h misc/getopt.h
 misc/getopt2.o: config.h $(FILE_H_DEPS) $(GETOPT2_H_DEPS)
@@ -524,7 +524,7 @@
                  misc/property.h misc/string.h
 misc/snprintf.o: config.h
 misc/string.o: config.h misc/string.h
-misc/term.o: config.h $(TERM_H_DEPS) ucon64_defines.h
+misc/term.o: config.h $(TERM_H_DEPS) ucon64de.h
 misc/unzip.o: config.h misc/crypt.h misc/ioapi.h misc/unzip.h
 misc/usb.o: config.h misc/usb.h
 patch/aps.o: config.h $(ARCHIVE_H_DEPS) $(BSWAP_H_DEPS) $(FILE_H_DEPS) \
diff -Naur ucon64/src/backup/cd64.c ucon64.dos/src/backup/cd64.c
--- ucon64/src/backup/cd64.c	2021-10-26 01:44:26.963044700 +0900
+++ ucon64.dos/src/backup/cd64.c	2021-10-29 06:50:16.034689100 +0900
@@ -37,7 +37,7 @@
 #include "misc/archive.h"
 #include "misc/misc.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/cd64.h"
 
 
diff -Naur ucon64/src/backup/cmc.c ucon64.dos/src/backup/cmc.c
--- ucon64/src/backup/cmc.c	2021-03-09 03:45:07.013176900 +0900
+++ ucon64.dos/src/backup/cmc.c	2021-10-29 06:50:16.038689400 +0900
@@ -138,7 +138,7 @@
 #include "misc/misc.h"
 #include "misc/term.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/cmc.h"
 
 
diff -Naur ucon64/src/backup/doctor64.c ucon64.dos/src/backup/doctor64.c
--- ucon64/src/backup/doctor64.c	2020-12-28 15:20:00.929443800 +0900
+++ ucon64.dos/src/backup/doctor64.c	2021-10-29 06:50:16.043689700 +0900
@@ -35,7 +35,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/doctor64.h"
 
 
diff -Naur ucon64/src/backup/doctor64jr.c ucon64.dos/src/backup/doctor64jr.c
--- ucon64/src/backup/doctor64jr.c	2021-10-26 01:46:14.739209100 +0900
+++ ucon64.dos/src/backup/doctor64jr.c	2021-10-29 06:50:16.049690000 +0900
@@ -141,8 +141,8 @@
 #endif
 #include "misc/archive.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
-#include "backup/doctor64jr.h"
+#include "ucon64mi.h"
+#include "backup/doctorjr.h"
 
 
 #ifdef  USE_PARALLEL
diff -Naur ucon64/src/backup/f2a.c ucon64.dos/src/backup/f2a.c
--- ucon64/src/backup/f2a.c	2021-09-26 06:25:16.554285100 +0900
+++ ucon64.dos/src/backup/f2a.c	2021-10-29 06:50:16.057690500 +0900
@@ -77,7 +77,7 @@
 #include "misc/misc.h"
 #include "misc/parallel.h"
 #include "misc/property.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/gba.h"
 #include "backup/f2a.h"
 
diff -Naur ucon64/src/backup/fal.c ucon64.dos/src/backup/fal.c
--- ucon64/src/backup/fal.c	2021-10-26 01:47:18.639864000 +0900
+++ ucon64.dos/src/backup/fal.c	2021-10-29 06:50:16.066691000 +0900
@@ -35,7 +35,7 @@
 #include "misc/archive.h"
 #include "misc/parallel.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/gba.h"
 #include "backup/fal.h"
 
diff -Naur ucon64/src/backup/fig.c ucon64.dos/src/backup/fig.c
--- ucon64/src/backup/fig.c	2021-10-26 02:12:06.378957800 +0900
+++ ucon64.dos/src/backup/fig.c	2021-10-29 06:50:16.073691400 +0900
@@ -34,7 +34,7 @@
 #include <string.h>
 #include "misc/archive.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/snes.h"                       // for snes_get_snes_hirom()
 #include "backup/ffe.h"
 
diff -Naur ucon64/src/backup/gbx.c ucon64.dos/src/backup/gbx.c
--- ucon64/src/backup/gbx.c	2021-10-26 01:55:37.306386100 +0900
+++ ucon64.dos/src/backup/gbx.c	2021-10-29 06:50:16.079691700 +0900
@@ -72,7 +72,7 @@
 #include "misc/misc.h"
 #include "misc/parallel.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/gb.h"                         // GB_NAME_LEN, gb_logodata,
 #include "backup/gbx.h"                         //  rocket_logodata
 
diff -Naur ucon64/src/backup/gd.c ucon64.dos/src/backup/gd.c
--- ucon64/src/backup/gd.c	2021-10-26 02:00:16.266341700 +0900
+++ ucon64.dos/src/backup/gd.c	2021-10-29 06:50:16.085692100 +0900
@@ -38,7 +38,7 @@
 #include "misc/property.h"
 #include "misc/string.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/snes.h"                       // for snes_gd_make_names() &
 #include "backup/gd.h"                          //  snes_get_snes_hirom()
 
diff -Naur ucon64/src/backup/interceptor.c ucon64.dos/src/backup/interceptor.c
--- ucon64/src/backup/interceptor.c	2019-06-21 23:22:51.262001600 +0900
+++ ucon64.dos/src/backup/interceptor.c	2021-10-29 06:50:16.092692500 +0900
@@ -26,7 +26,7 @@
 #ifdef  _MSC_VER
 #pragma warning(pop)
 #endif
-#include "backup/interceptor.h"
+#include "backup/intercep.h"
 
 
 const st_getopt2_t interceptor_usage[] =
diff -Naur ucon64/src/backup/libcd64/Makefile ucon64.dos/src/backup/libcd64/Makefile
--- ucon64/src/backup/libcd64/Makefile	2021-10-29 01:10:29.880667800 +0900
+++ ucon64.dos/src/backup/libcd64/Makefile	2021-10-29 06:50:16.098692800 +0900
@@ -3,7 +3,7 @@
 endif
 
 # I think we only use gnu99 instead of c99 due to va_args extensions.
-CFLAGS+=-I. -Wall -W -std=gnu99
+CFLAGS+=-I. -Werror -Wall -W -std=gnu99
 ifneq ($(findstring clang,$(CC)),clang)
 CFLAGS+=-Wno-format-truncation
 endif
diff -Naur ucon64/src/backup/lynxit.c ucon64.dos/src/backup/lynxit.c
--- ucon64/src/backup/lynxit.c	2019-06-21 23:22:51.303004000 +0900
+++ ucon64.dos/src/backup/lynxit.c	2021-10-29 06:50:16.105693200 +0900
@@ -35,7 +35,7 @@
 #include "misc/archive.h"
 #include "misc/parallel.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/lynx.h"
 #include "backup/lynxit.h"
 
diff -Naur ucon64/src/backup/mccl.c ucon64.dos/src/backup/mccl.c
--- ucon64/src/backup/mccl.c	2019-06-21 23:22:51.310004400 +0900
+++ ucon64.dos/src/backup/mccl.c	2021-10-29 06:50:16.108693400 +0900
@@ -74,7 +74,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/mccl.h"
 
 
diff -Naur ucon64/src/backup/mcd.c ucon64.dos/src/backup/mcd.c
--- ucon64/src/backup/mcd.c	2019-06-21 23:22:51.317004800 +0900
+++ ucon64.dos/src/backup/mcd.c	2021-10-29 06:50:16.111693600 +0900
@@ -33,7 +33,7 @@
 #include "misc/misc.h"
 #include "misc/term.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/mcd.h"
 
 
diff -Naur ucon64/src/backup/md-pro.c ucon64.dos/src/backup/md-pro.c
--- ucon64/src/backup/md-pro.c	2021-10-26 02:01:09.733399900 +0900
+++ ucon64.dos/src/backup/md-pro.c	2021-10-29 06:50:16.116693800 +0900
@@ -38,7 +38,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/tototek.h"
 #include "backup/md-pro.h"
 
diff -Naur ucon64/src/backup/mgd.c ucon64.dos/src/backup/mgd.c
--- ucon64/src/backup/mgd.c	2021-10-26 05:44:56.851387100 +0900
+++ ucon64.dos/src/backup/mgd.c	2021-10-29 06:50:16.123694200 +0900
@@ -31,7 +31,7 @@
 #include "misc/file.h"
 #include "misc/string.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/mgd.h"
 
 
diff -Naur ucon64/src/backup/mgh.c ucon64.dos/src/backup/mgh.c
--- ucon64/src/backup/mgh.c	2020-03-15 02:31:22.136296400 +0900
+++ ucon64.dos/src/backup/mgh.c	2021-10-29 06:50:16.128694500 +0900
@@ -28,7 +28,7 @@
 #endif
 #include "misc/file.h"
 #include "misc/string.h"
-#include "ucon64_defines.h"
+#include "ucon64de.h"
 #include "backup/mgh.h"
 
 
diff -Naur ucon64/src/backup/msg.c ucon64.dos/src/backup/msg.c
--- ucon64/src/backup/msg.c	2021-10-26 02:04:54.543258200 +0900
+++ ucon64.dos/src/backup/msg.c	2021-10-29 06:50:16.133694800 +0900
@@ -33,7 +33,7 @@
 #include "misc/file.h"
 #include "misc/misc.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/ffe.h"
 #include "backup/msg.h"
 
diff -Naur ucon64/src/backup/pce-pro.c ucon64.dos/src/backup/pce-pro.c
--- ucon64/src/backup/pce-pro.c	2021-10-26 02:05:27.009115200 +0900
+++ ucon64.dos/src/backup/pce-pro.c	2021-10-29 06:50:16.139695200 +0900
@@ -37,7 +37,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/tototek.h"
 #include "backup/pce-pro.h"
 
diff -Naur ucon64/src/backup/pl.c ucon64.dos/src/backup/pl.c
--- ucon64/src/backup/pl.c	2021-10-26 02:06:06.710386000 +0900
+++ ucon64.dos/src/backup/pl.c	2021-10-29 06:50:16.145695500 +0900
@@ -34,7 +34,7 @@
 #include <string.h>
 #include "misc/archive.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/pl.h"
 
 
diff -Naur ucon64/src/backup/quickdev16.c ucon64.dos/src/backup/quickdev16.c
--- ucon64/src/backup/quickdev16.c	2021-10-26 01:42:30.605389400 +0900
+++ ucon64.dos/src/backup/quickdev16.c	2021-10-29 06:50:16.152695900 +0900
@@ -31,9 +31,9 @@
 #include "misc/misc.h"
 #include "misc/term.h"
 #include "misc/usb.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/snes.h"
-#include "backup/quickdev16.h"
+#include "backup/quickdev.h"
 
 
 #ifdef  USE_USB
diff -Naur ucon64/src/backup/sflash.c ucon64.dos/src/backup/sflash.c
--- ucon64/src/backup/sflash.c	2021-10-26 02:13:17.674035700 +0900
+++ ucon64.dos/src/backup/sflash.c	2021-10-29 06:50:16.156696100 +0900
@@ -32,7 +32,7 @@
 #endif
 #include "misc/archive.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/tototek.h"
 #include "backup/sflash.h"
 
diff -Naur ucon64/src/backup/smc.c ucon64.dos/src/backup/smc.c
--- ucon64/src/backup/smc.c	2020-03-15 23:48:48.165776500 +0900
+++ ucon64.dos/src/backup/smc.c	2021-10-29 06:50:16.160696400 +0900
@@ -33,7 +33,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/ffe.h"
 #include "backup/smc.h"
 
diff -Naur ucon64/src/backup/smcic2.c ucon64.dos/src/backup/smcic2.c
--- ucon64/src/backup/smcic2.c	2021-08-18 00:07:11.058384800 +0900
+++ ucon64.dos/src/backup/smcic2.c	2021-10-29 06:50:16.165696600 +0900
@@ -32,7 +32,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/ffe.h"
 #include "backup/smcic2.h"
 #include "backup/swc.h"
diff -Naur ucon64/src/backup/smd.c ucon64.dos/src/backup/smd.c
--- ucon64/src/backup/smd.c	2021-10-26 02:14:02.057574300 +0900
+++ ucon64.dos/src/backup/smd.c	2021-10-29 06:50:16.170696900 +0900
@@ -34,7 +34,7 @@
 #include "misc/file.h"
 #include "misc/misc.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/ffe.h"
 #include "backup/smd.h"
 
diff -Naur ucon64/src/backup/smsgg-pro.c ucon64.dos/src/backup/smsgg-pro.c
--- ucon64/src/backup/smsgg-pro.c	2021-10-26 02:14:43.304933500 +0900
+++ ucon64.dos/src/backup/smsgg-pro.c	2021-10-29 06:50:16.176697300 +0900
@@ -37,9 +37,9 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/tototek.h"
-#include "backup/smsgg-pro.h"
+#include "backup/smsggpro.h"
 
 
 #ifdef  USE_PARALLEL
diff -Naur ucon64/src/backup/swc.c ucon64.dos/src/backup/swc.c
--- ucon64/src/backup/swc.c	2021-10-26 02:15:53.127927100 +0900
+++ ucon64.dos/src/backup/swc.c	2021-10-29 06:50:16.181697600 +0900
@@ -36,7 +36,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "misc/misc.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/snes.h"                       // for snes_get_copier_type()
 #include "backup/ffe.h"
 #include "backup/swc.h"
diff -Naur ucon64/src/backup/ufosd.c ucon64.dos/src/backup/ufosd.c
--- ucon64/src/backup/ufosd.c	2021-10-26 02:16:44.584870300 +0900
+++ ucon64.dos/src/backup/ufosd.c	2021-10-29 06:50:16.186697800 +0900
@@ -31,7 +31,7 @@
 #include "misc/term.h"
 #include "misc/usb.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "backup/ufosd.h"
 
 
diff -Naur ucon64/src/config.h.orig ucon64.dos/src/config.h.orig
--- ucon64/src/config.h.orig	2020-12-28 15:49:56.935169500 +0900
+++ ucon64.dos/src/config.h.orig	2021-10-29 06:50:16.193698200 +0900
@@ -119,7 +119,7 @@
 //#define USE_USB 1
 
 /* build with gzip and zip support (default: yes) */
-//#define USE_ZLIB 1
+#define USE_ZLIB 1
 
 /* Define to empty if `const' does not conform to ANSI C. */
 /* #undef const */
diff -Naur ucon64/src/config.mak.orig ucon64.dos/src/config.mak.orig
--- ucon64/src/config.mak.orig	2020-12-28 19:51:06.371773900 +0900
+++ ucon64.dos/src/config.mak.orig	2021-10-29 06:50:16.199698600 +0900
@@ -1,7 +1,7 @@
 USE_PARALLEL=1
 #USE_PPDEV=1
 DLOPEN=1
-#USE_ZLIB=1
+USE_ZLIB=1
 #USE_DISCMAGE=1
 #USE_USB=1
 USE_LIBCD64=1
diff -Naur ucon64/src/console/atari.c ucon64.dos/src/console/atari.c
--- ucon64/src/console/atari.c	2021-10-26 01:21:49.981429800 +0900
+++ ucon64.dos/src/console/atari.c	2021-10-29 06:50:16.205698900 +0900
@@ -27,7 +27,7 @@
 #include "misc/file.h"
 #include "misc/string.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/atari.h"
 #include "backup/cc2.h"
 #include "backup/spsc.h"
diff -Naur ucon64/src/console/coleco.c ucon64.dos/src/console/coleco.c
--- ucon64/src/console/coleco.c	2021-10-26 01:22:13.887797100 +0900
+++ ucon64.dos/src/console/coleco.c	2021-10-29 06:50:16.211699300 +0900
@@ -30,7 +30,7 @@
 #endif
 #include "misc/archive.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/coleco.h"
 #include "backup/backup.h"
 
diff -Naur ucon64/src/console/dc.c ucon64.dos/src/console/dc.c
--- ucon64/src/console/dc.c	2021-10-26 01:12:38.574891100 +0900
+++ ucon64.dos/src/console/dc.c	2021-10-29 06:50:16.220699800 +0900
@@ -37,7 +37,7 @@
 #include "misc/file.h"
 #include "misc/property.h"
 #include "misc/string.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/dc.h"
 
 
diff -Naur ucon64/src/console/gb.c ucon64.dos/src/console/gb.c
--- ucon64/src/console/gb.c	2021-10-26 01:24:22.910176800 +0900
+++ ucon64.dos/src/console/gb.c	2021-10-29 06:50:16.225700100 +0900
@@ -35,7 +35,7 @@
 #include "misc/misc.h"
 #include "misc/string.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/console.h"
 #include "console/gb.h"
 #include "console/nes.h"
diff -Naur ucon64/src/console/gba.c ucon64.dos/src/console/gba.c
--- ucon64/src/console/gba.c	2021-10-26 01:25:18.112334200 +0900
+++ ucon64.dos/src/console/gba.c	2021-10-29 06:50:16.233700500 +0900
@@ -47,7 +47,7 @@
 #include "misc/misc.h"
 #include "misc/property.h"
 #include "misc/string.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/console.h"
 #include "console/gba.h"
 #include "backup/backup.h"
diff -Naur ucon64/src/console/genesis.c ucon64.dos/src/console/genesis.c
--- ucon64/src/console/genesis.c	2021-10-26 07:15:16.257359400 +0900
+++ ucon64.dos/src/console/genesis.c	2021-10-29 06:50:16.239700900 +0900
@@ -50,7 +50,7 @@
 #include "misc/chksum.h"
 #include "misc/file.h"
 #include "misc/misc.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/genesis.h"
 #include "backup/md-pro.h"
 #include "backup/mgd.h"
diff -Naur ucon64/src/console/jaguar.c ucon64.dos/src/console/jaguar.c
--- ucon64/src/console/jaguar.c	2021-10-26 01:22:57.902314600 +0900
+++ ucon64.dos/src/console/jaguar.c	2021-10-29 06:50:16.242701000 +0900
@@ -20,7 +20,7 @@
 */
 #include "misc/archive.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/jaguar.h"
 #include "backup/backup.h"
 
diff -Naur ucon64/src/console/lynx.c ucon64.dos/src/console/lynx.c
--- ucon64/src/console/lynx.c	2021-10-26 01:26:00.448755700 +0900
+++ ucon64.dos/src/console/lynx.c	2021-10-29 06:50:16.246701300 +0900
@@ -31,7 +31,7 @@
 #include "misc/archive.h"
 #include "misc/bswap.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/lynx.h"
 #include "backup/backup.h"
 
diff -Naur ucon64/src/console/n64.c ucon64.dos/src/console/n64.c
--- ucon64/src/console/n64.c	2021-10-26 02:08:25.105301700 +0900
+++ ucon64.dos/src/console/n64.c	2021-10-29 06:50:16.251701600 +0900
@@ -41,7 +41,7 @@
 #include "misc/chksum.h"
 #include "misc/file.h"
 #include "misc/misc.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/n64.h"
 #include "backup/backup.h"
 #include "backup/doctor64.h"
diff -Naur ucon64/src/console/nds.c ucon64.dos/src/console/nds.c
--- ucon64/src/console/nds.c	2021-10-26 01:26:55.835923600 +0900
+++ ucon64.dos/src/console/nds.c	2021-10-29 06:50:16.257701900 +0900
@@ -26,7 +26,7 @@
 #include "misc/chksum.h"
 #include "misc/file.h"
 #include "misc/misc.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/console.h"
 #include "console/nds.h"
 #include "backup/backup.h"
diff -Naur ucon64/src/console/neogeo.c ucon64.dos/src/console/neogeo.c
--- ucon64/src/console/neogeo.c	2021-10-26 01:28:14.963449500 +0900
+++ ucon64.dos/src/console/neogeo.c	2021-10-29 06:50:16.261702100 +0900
@@ -28,7 +28,7 @@
 #endif
 #include "misc/archive.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/neogeo.h"
 #include "backup/backup.h"
 
diff -Naur ucon64/src/console/nes.c ucon64.dos/src/console/nes.c
--- ucon64/src/console/nes.c	2021-10-26 01:28:51.857559700 +0900
+++ ucon64.dos/src/console/nes.c	2021-10-29 06:50:16.270702600 +0900
@@ -45,7 +45,7 @@
 #include "misc/file.h"
 #include "misc/misc.h"
 #include "misc/string.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/nes.h"
 #include "backup/smc.h"
 
diff -Naur ucon64/src/console/ngp.c ucon64.dos/src/console/ngp.c
--- ucon64/src/console/ngp.c	2021-10-26 01:29:22.442309000 +0900
+++ ucon64.dos/src/console/ngp.c	2021-10-29 06:50:16.274702900 +0900
@@ -29,7 +29,7 @@
 #endif
 #include "misc/archive.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/ngp.h"
 #include "backup/backup.h"
 #include "backup/pl.h"
diff -Naur ucon64/src/console/pce.c ucon64.dos/src/console/pce.c
--- ucon64/src/console/pce.c	2021-10-26 01:39:44.899911600 +0900
+++ ucon64.dos/src/console/pce.c	2021-10-29 06:50:16.279703200 +0900
@@ -51,7 +51,7 @@
 #include "misc/file.h"
 #include "misc/misc.h"
 #include "misc/string.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/pce.h"
 #include "backup/mgd.h"
 #include "backup/msg.h"
diff -Naur ucon64/src/console/sms.c ucon64.dos/src/console/sms.c
--- ucon64/src/console/sms.c	2021-10-26 01:01:42.767381100 +0900
+++ ucon64.dos/src/console/sms.c	2021-10-29 06:50:16.283703400 +0900
@@ -52,11 +52,11 @@
 #include "misc/getopt2.h"                       // st_getopt2_t
 #include "misc/misc.h"
 #include "misc/string.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/sms.h"
 #include "backup/mgd.h"
 #include "backup/smd.h"
-#include "backup/smsgg-pro.h"
+#include "backup/smsggpro.h"
 
 
 #define SMS_HEADER_START 0x7ff0
diff -Naur ucon64/src/console/snes.c ucon64.dos/src/console/snes.c
--- ucon64/src/console/snes.c	2021-10-27 01:42:22.794740000 +0900
+++ ucon64.dos/src/console/snes.c	2021-10-29 06:50:16.293704000 +0900
@@ -51,7 +51,7 @@
 #include "misc/misc.h"
 #include "misc/string.h"
 #include "misc/term.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/console.h"
 #include "console/snes.h"
 #include "backup/backup.h"
diff -Naur ucon64/src/console/swan.c ucon64.dos/src/console/swan.c
--- ucon64/src/console/swan.c	2021-10-26 06:02:59.056285700 +0900
+++ ucon64.dos/src/console/swan.c	2021-10-29 06:50:16.298704200 +0900
@@ -29,7 +29,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "misc/misc.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/swan.h"
 #include "backup/backup.h"
 
diff -Naur ucon64/src/console/vboy.c ucon64.dos/src/console/vboy.c
--- ucon64/src/console/vboy.c	2021-10-26 01:22:38.867225900 +0900
+++ ucon64.dos/src/console/vboy.c	2021-10-29 06:50:16.302704500 +0900
@@ -28,7 +28,7 @@
 #endif
 #include "misc/archive.h"
 #include "misc/file.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/console.h"
 #include "console/vboy.h"
 #include "backup/backup.h"
diff -Naur ucon64/src/dosprep.sh ucon64.dos/src/dosprep.sh
--- ucon64/src/dosprep.sh	1970-01-01 09:00:00.000000000 +0900
+++ ucon64.dos/src/dosprep.sh	2021-10-29 06:50:16.307704800 +0900
@@ -0,0 +1,76 @@
+#! /bin/bash
+
+prepare_for_DOS()
+{
+  mv ucon64_dat.c ucon64da.c
+  mv ucon64_dat.h ucon64da.h
+  mv ucon64_defines.h ucon64de.h
+  mv ucon64_misc.c ucon64mi.c
+  mv ucon64_misc.h ucon64mi.h
+  mv ucon64_opts.c ucon64op.c
+  mv ucon64_opts.h ucon64op.h
+  mv backup/doctor64jr.c backup/doctorjr.c
+  mv backup/doctor64jr.h backup/doctorjr.h
+  mv backup/interceptor.c backup/intercep.c
+  mv backup/interceptor.h backup/intercep.h
+  mv backup/quickdev16.c backup/quickdev.c
+  mv backup/quickdev16.h backup/quickdev.h
+  mv backup/smsgg-pro.c backup/smsggpro.c
+  mv backup/smsgg-pro.h backup/smsggpro.h
+  mv misc/dxedll_pub.h misc/dxedllpu.h
+
+  mv libdiscmage discmage
+  mv discmage/libdiscmage.h discmage/discmage.h
+  mv discmage/dxedll_priv.h discmage/dxedllpr.h
+  mv discmage/dxedll_pub.h discmage/dxedllpu.h
+  mv discmage/libdm_misc.c discmage/libdmmis.c
+  mv discmage/libdm_misc.h discmage/libdmmis.h
+
+  cp config.h.orig config.h
+  cp config.mak.orig config.mak
+  cp config.h discmage
+  cp discmage/Makefile.orig discmage/Makefile
+}
+
+undo_preparations_for_DOS()
+{
+  mv ucon64da.c ucon64_dat.c
+  mv ucon64da.h ucon64_dat.h
+  mv ucon64de.h ucon64_defines.h
+  mv ucon64mi.c ucon64_misc.c
+  mv ucon64mi.h ucon64_misc.h
+  mv ucon64op.c ucon64_opts.c
+  mv ucon64op.h ucon64_opts.h
+  mv backup/doctorjr.c backup/doctor64jr.c
+  mv backup/doctorjr.h backup/doctor64jr.h
+  mv backup/intercep.c backup/interceptor.c
+  mv backup/intercep.h backup/interceptor.h
+  mv backup/quickdev.c backup/quickdev16.c
+  mv backup/quickdev.h backup/quickdev16.h
+  mv backup/smsggpro.c backup/smsgg-pro.c
+  mv backup/smsggpro.h backup/smsgg-pro.h
+  mv misc/dxedllpu.h misc/dxedll_pub.h
+
+  mv discmage libdiscmage
+  mv libdiscmage/discmage.h libdiscmage/libdiscmage.h
+  mv libdiscmage/dxedllpr.h libdiscmage/dxedll_priv.h
+  mv libdiscmage/dxedllpu.h libdiscmage/dxedll_pub.h
+  mv libdiscmage/libdmmis.c libdiscmage/libdm_misc.c
+  mv libdiscmage/libdmmis.h libdiscmage/libdm_misc.h
+
+  rm config.h
+  rm config.mak
+  rm libdiscmage/config.h
+  rm libdiscmage/Makefile
+}
+
+if [ "$1" == p ]; then
+  prepare_for_DOS
+elif [ "$1" == u ]; then
+  undo_preparations_for_DOS
+else
+  echo Usage: $0 "[p|u]"
+  echo "p      prepare for DOS"
+  echo "u      undo preparations for DOS"
+  exit
+fi
diff -Naur ucon64/src/libdiscmage/Makefile.orig ucon64.dos/src/libdiscmage/Makefile.orig
--- ucon64/src/libdiscmage/Makefile.orig	2021-10-29 03:18:24.683641500 +0900
+++ ucon64.dos/src/libdiscmage/Makefile.orig	2021-10-29 06:53:58.621420400 +0900
@@ -8,7 +8,7 @@
 endif
 
 DLOPEN=1
-#USE_ZLIB=1
+USE_ZLIB=1
 
 prefix=/usr/local
 exec_prefix=${prefix}
@@ -23,7 +23,7 @@
 ifeq ($(CC),cc)
 CC=gcc
 endif
-CFLAGS0:=$(CFLAGS) -I. -Wall -W -Wno-implicit-fallthrough -O3 -DHAVE_CONFIG_H
+CFLAGS0:=$(CFLAGS) -I. -Werror -Wall -W -Wno-implicit-fallthrough -O3 -DHAVE_CONFIG_H
 ifneq ($(findstring clang,$(CC)),clang)
 CFLAGS0+=-Wno-format-truncation -Wno-stringop-overflow
 endif
@@ -56,7 +56,7 @@
 
 LIBNAME=discmage
 
-OBJECTS=libdm_misc.o dllinit.o misc.o misc_wav.o format/format.o format/cdi.o \
+OBJECTS=libdmmis.o dllinit.o misc.o misc_wav.o format/format.o format/cdi.o \
         format/nero.o format/cue.o format/toc.o format/other.o
 ifdef USE_ZLIB
 OBJECTS+=ioapi.o map.o misc_z.o unzip.o
@@ -220,30 +220,30 @@
 
 MISC_Z_H_DEPS=misc_z.h unzip.h
 MISC_H_DEPS=misc.h $(MISC_Z_H_DEPS)
-DXEDLL_PRIV_H_DEPS=dxedll_priv.h dxedll_pub.h
+DXEDLL_PRIV_H_DEPS=dxedllpr.h dxedllpu.h
 
-libdm_misc.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+libdmmis.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
               format/format.h $(DXEDLL_PRIV_H_DEPS) misc_wav.h
-dllinit.o: config.h libdiscmage.h dxedll_pub.h $(DXEDLL_PRIV_H_DEPS) map.h
+dllinit.o: config.h discmage.h dxedllpu.h $(DXEDLL_PRIV_H_DEPS) map.h
 misc.o: config.h $(MISC_Z_H_DEPS) $(MISC_H_DEPS) $(DXEDLL_PRIV_H_DEPS)
 misc_wav.o: config.h $(MISC_H_DEPS) misc_wav.h
-format/format.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+format/format.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
                  format/format.h format/cdi.h format/cue.h format/nero.h \
                  format/other.h format/toc.h $(DXEDLL_PRIV_H_DEPS)
-format/cdi.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+format/cdi.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
               format/format.h $(DXEDLL_PRIV_H_DEPS)
-format/nero.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+format/nero.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
                format/format.h $(DXEDLL_PRIV_H_DEPS)
-format/cue.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+format/cue.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
               format/format.h $(DXEDLL_PRIV_H_DEPS)
-format/toc.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+format/toc.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
               format/format.h $(DXEDLL_PRIV_H_DEPS)
-format/other.o: config.h $(MISC_H_DEPS) libdiscmage.h libdm_misc.h \
+format/other.o: config.h $(MISC_H_DEPS) discmage.h libdmmis.h \
                 format/format.h $(DXEDLL_PRIV_H_DEPS)
 ioapi.o: config.h ioapi.h
 map.o: config.h map.h $(DXEDLL_PRIV_H_DEPS)
 misc_z.o: config.h $(MISC_Z_H_DEPS) $(MISC_H_DEPS) map.h $(DXEDLL_PRIV_H_DEPS)
 unzip.o: config.h crypt.h ioapi.h unzip.h
-dxe_misc.o: config.h dxedll_pub.h
-djimport.o: config.h dlopen.h dxedll_pub.h libdiscmage.h
-dlopen.o: config.h dlopen.h dxedll_pub.h map.h
+dxe_misc.o: config.h dxedllpu.h
+djimport.o: config.h dlopen.h dxedllpu.h discmage.h
+dlopen.o: config.h dlopen.h dxedllpu.h map.h
diff -Naur ucon64/src/libdiscmage/djimport.c ucon64.dos/src/libdiscmage/djimport.c
--- ucon64/src/libdiscmage/djimport.c	2004-07-23 08:09:15.000000000 +0900
+++ ucon64.dos/src/libdiscmage/djimport.c	2021-10-29 06:50:16.317705300 +0900
@@ -20,8 +20,8 @@
 */
 #include <stdio.h>
 #include "dlopen.h"
-#include "dxedll_pub.h"
-#include "libdiscmage.h"
+#include "dxedllpu.h"
+#include "discmage.h"
 
 #define CHECK \
   if (!dxe_loaded) \
diff -Naur ucon64/src/libdiscmage/dllinit.c ucon64.dos/src/libdiscmage/dllinit.c
--- ucon64/src/libdiscmage/dllinit.c	2020-05-18 20:22:17.799535600 +0900
+++ ucon64.dos/src/libdiscmage/dllinit.c	2021-10-29 06:50:16.321705600 +0900
@@ -35,7 +35,7 @@
 #pragma warning(pop)
 #endif
 #include <string.h>
-#include "libdiscmage.h"
+#include "discmage.h"
 
 
 #if     defined __CYGWIN__ || defined _WIN32
@@ -83,8 +83,8 @@
 }
 
 #elif   defined DJGPP
-#include "dxedll_pub.h"                         // for st_symbol_t
-#include "dxedll_priv.h"                        // must be included after headers
+#include "dxedllpu.h"                           // for st_symbol_t
+#include "dxedllpr.h"                           // must be included after headers
 #include "map.h"                                //  of external libraries!
 
 
diff -Naur ucon64/src/libdiscmage/dlopen.c ucon64.dos/src/libdiscmage/dlopen.c
--- ucon64/src/libdiscmage/dlopen.c	2020-07-24 10:38:06.356520400 +0900
+++ ucon64.dos/src/libdiscmage/dlopen.c	2021-10-29 06:50:16.325705800 +0900
@@ -48,7 +48,7 @@
 
 
 #ifdef  DJGPP
-#include "dxedll_pub.h"
+#include "dxedllpu.h"
 #include "map.h"
 
 
diff -Naur ucon64/src/libdiscmage/dxe_misc.c ucon64.dos/src/libdiscmage/dxe_misc.c
--- ucon64/src/libdiscmage/dxe_misc.c	2020-05-18 20:19:08.344699400 +0900
+++ ucon64.dos/src/libdiscmage/dxe_misc.c	2021-10-29 06:50:16.328706000 +0900
@@ -31,7 +31,7 @@
 #ifdef  HAVE_CONFIG_H
 #include "config.h"
 #endif
-#include "dxedll_pub.h"
+#include "dxedllpu.h"
 
 
 extern st_symbol_t import_export;
diff -Naur ucon64/src/libdiscmage/dxedll_priv.h ucon64.dos/src/libdiscmage/dxedll_priv.h
--- ucon64/src/libdiscmage/dxedll_priv.h	2004-07-23 08:10:32.000000000 +0900
+++ ucon64.dos/src/libdiscmage/dxedll_priv.h	2021-10-29 06:50:16.332706200 +0900
@@ -22,7 +22,7 @@
 #ifndef DXEDLL_PRIV_H
 #define DXEDLL_PRIV_H
 
-#include "dxedll_pub.h"
+#include "dxedllpu.h"
 
 #ifdef __cplusplus
 extern "C" {
diff -Naur ucon64/src/libdiscmage/format/cdi.c ucon64.dos/src/libdiscmage/format/cdi.c
--- ucon64/src/libdiscmage/format/cdi.c	2020-03-09 04:51:12.685484500 +0900
+++ ucon64.dos/src/libdiscmage/format/cdi.c	2021-10-29 06:50:16.337706500 +0900
@@ -37,11 +37,11 @@
 #include <stdlib.h>
 #include <string.h>
 #include "../misc.h"
-#include "../libdiscmage.h"
-#include "../libdm_misc.h"
+#include "../discmage.h"
+#include "../libdmmis.h"
 #include "format.h"
 #ifdef  DJGPP
-#include "../dxedll_priv.h"
+#include "../dxedllpr.h"
 #endif
 #if     defined _MSC_VER && _MSC_VER >= 1900
 #pragma warning(pop)
diff -Naur ucon64/src/libdiscmage/format/cue.c ucon64.dos/src/libdiscmage/format/cue.c
--- ucon64/src/libdiscmage/format/cue.c	2018-06-09 01:17:29.000000000 +0900
+++ ucon64.dos/src/libdiscmage/format/cue.c	2021-10-29 06:50:16.341706700 +0900
@@ -26,11 +26,11 @@
 #include "../config.h"
 #endif
 #include "../misc.h"
-#include "../libdiscmage.h"
-#include "../libdm_misc.h"
+#include "../discmage.h"
+#include "../libdmmis.h"
 #include "format.h"
 #ifdef  DJGPP
-#include "../dxedll_priv.h"
+#include "../dxedllpr.h"
 #endif
 #if     defined _MSC_VER && _MSC_VER >= 1900
 #pragma warning(pop)
diff -Naur ucon64/src/libdiscmage/format/format.c ucon64.dos/src/libdiscmage/format/format.c
--- ucon64/src/libdiscmage/format/format.c	2020-03-09 04:51:12.689484800 +0900
+++ ucon64.dos/src/libdiscmage/format/format.c	2021-10-29 06:50:16.345706900 +0900
@@ -60,8 +60,8 @@
 #endif
 #endif
 #include "../misc.h"
-#include "../libdiscmage.h"
-#include "../libdm_misc.h"
+#include "../discmage.h"
+#include "../libdmmis.h"
 #include "format.h"
 #include "cdi.h"
 #include "cue.h"
@@ -69,7 +69,7 @@
 #include "other.h"
 #include "toc.h"
 #ifdef  DJGPP                                   // DXEs are specific to DJGPP
-#include "../dxedll_priv.h"
+#include "../dxedllpr.h"
 #endif
 #if     defined _MSC_VER && _MSC_VER >= 1900
 #pragma warning(pop)
diff -Naur ucon64/src/libdiscmage/format/nero.c ucon64.dos/src/libdiscmage/format/nero.c
--- ucon64/src/libdiscmage/format/nero.c	2020-03-11 03:01:35.481910300 +0900
+++ ucon64.dos/src/libdiscmage/format/nero.c	2021-10-29 06:50:16.349707200 +0900
@@ -37,11 +37,11 @@
 #include <stdlib.h>
 #include <string.h>
 #include "../misc.h"
-#include "../libdiscmage.h"
-#include "../libdm_misc.h"
+#include "../discmage.h"
+#include "../libdmmis.h"
 #include "format.h"
 #ifdef  DJGPP
-#include "../dxedll_priv.h"
+#include "../dxedllpr.h"
 #endif
 #if     defined _MSC_VER && _MSC_VER >= 1900
 #pragma warning(pop)
diff -Naur ucon64/src/libdiscmage/format/other.c ucon64.dos/src/libdiscmage/format/other.c
--- ucon64/src/libdiscmage/format/other.c	2020-03-11 03:01:35.485910500 +0900
+++ ucon64.dos/src/libdiscmage/format/other.c	2021-10-29 06:50:16.353707400 +0900
@@ -37,11 +37,11 @@
 #include <stdlib.h>
 #include <string.h>
 #include "../misc.h"
-#include "../libdiscmage.h"
-#include "../libdm_misc.h"
+#include "../discmage.h"
+#include "../libdmmis.h"
 #include "format.h"
 #ifdef  DJGPP
-#include "../dxedll_priv.h"
+#include "../dxedllpr.h"
 #endif
 #if     defined _MSC_VER && _MSC_VER >= 1900
 #pragma warning(pop)
diff -Naur ucon64/src/libdiscmage/format/toc.c ucon64.dos/src/libdiscmage/format/toc.c
--- ucon64/src/libdiscmage/format/toc.c	2015-12-16 09:48:03.000000000 +0900
+++ ucon64.dos/src/libdiscmage/format/toc.c	2021-10-29 06:50:16.356707600 +0900
@@ -26,11 +26,11 @@
 #include "../config.h"
 #endif
 #include "../misc.h"
-#include "../libdiscmage.h"
-#include "../libdm_misc.h"
+#include "../discmage.h"
+#include "../libdmmis.h"
 #include "format.h"
 #ifdef  DJGPP
-#include "../dxedll_priv.h"
+#include "../dxedllpr.h"
 #endif
 #if     defined _MSC_VER && _MSC_VER >= 1900
 #pragma warning(pop)
diff -Naur ucon64/src/libdiscmage/libdm_misc.c ucon64.dos/src/libdiscmage/libdm_misc.c
--- ucon64/src/libdiscmage/libdm_misc.c	2021-03-09 03:45:07.306193700 +0900
+++ ucon64.dos/src/libdiscmage/libdm_misc.c	2021-10-29 06:50:16.360707800 +0900
@@ -52,11 +52,11 @@
 #endif
 #endif
 #include "misc.h"
-#include "libdiscmage.h"
-#include "libdm_misc.h"
+#include "discmage.h"
+#include "libdmmis.h"
 #include "format/format.h"
 #ifdef  DJGPP                                   // DXEs are specific to DJGPP
-#include "dxedll_priv.h"
+#include "dxedllpr.h"
 #endif
 #include "misc_wav.h"
 
diff -Naur ucon64/src/libdiscmage/map.c ucon64.dos/src/libdiscmage/map.c
--- ucon64/src/libdiscmage/map.c	2019-06-21 23:33:23.219345800 +0900
+++ ucon64.dos/src/libdiscmage/map.c	2021-10-29 06:50:16.364708000 +0900
@@ -30,7 +30,7 @@
 #include <string.h>
 #include "map.h"
 #if     defined DJGPP && defined DLL
-#include "dxedll_priv.h"
+#include "dxedllpr.h"
 #endif
 
 
diff -Naur ucon64/src/libdiscmage/misc.c ucon64.dos/src/libdiscmage/misc.c
--- ucon64/src/libdiscmage/misc.c	2021-10-29 04:45:02.460937300 +0900
+++ ucon64.dos/src/libdiscmage/misc.c	2021-10-29 06:50:16.370708400 +0900
@@ -106,7 +106,7 @@
 #ifdef  DJGPP
 #include <dpmi.h>                               // needed for __dpmi_int() by ansi_init()
 #ifdef  DLL
-#include "dxedll_priv.h"
+#include "dxedllpr.h"
 #endif
 #endif
 
diff -Naur ucon64/src/libdiscmage/misc_z.c ucon64.dos/src/libdiscmage/misc_z.c
--- ucon64/src/libdiscmage/misc_z.c	2021-07-21 03:13:08.958772300 +0900
+++ ucon64.dos/src/libdiscmage/misc_z.c	2021-10-29 06:50:16.376708700 +0900
@@ -45,7 +45,7 @@
 #include "misc.h"
 #include "misc_z.h"
 #if     defined DJGPP && defined DLL
-#include "dxedll_priv.h"
+#include "dxedllpr.h"
 #endif
 
 
diff -Naur ucon64/src/misc/dlopen.c ucon64.dos/src/misc/dlopen.c
--- ucon64/src/misc/dlopen.c	2020-07-23 12:49:13.750236700 +0900
+++ ucon64.dos/src/misc/dlopen.c	2021-10-29 06:50:16.380708900 +0900
@@ -48,7 +48,7 @@
 
 
 #ifdef  DJGPP
-#include "misc/dxedll_pub.h"
+#include "misc/dxedllpu.h"
 #include "misc/map.h"
 
 
diff -Naur ucon64/src/misc/term.c ucon64.dos/src/misc/term.c
--- ucon64/src/misc/term.c	2020-03-14 06:02:39.704841700 +0900
+++ ucon64.dos/src/misc/term.c	2021-10-29 06:50:16.383709100 +0900
@@ -61,7 +61,7 @@
 #include <dpmi.h>                               // needed for __dpmi_int() by ansi_init()
 #endif
 #include "misc/term.h"
-#include "ucon64_defines.h"
+#include "ucon64de.h"
 
 
 #if     (defined __unix__ && !defined __MSDOS__) || defined __BEOS__ || \
diff -Naur ucon64/src/patch/aps.c ucon64.dos/src/patch/aps.c
--- ucon64/src/patch/aps.c	2021-09-30 05:07:54.635205700 +0900
+++ ucon64.dos/src/patch/aps.c	2021-10-29 06:50:16.388709400 +0900
@@ -39,7 +39,7 @@
 #include "misc/bswap.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "patch/aps.h"
 
 
diff -Naur ucon64/src/patch/bsl.c ucon64.dos/src/patch/bsl.c
--- ucon64/src/patch/bsl.c	2021-09-30 05:08:24.067889200 +0900
+++ ucon64.dos/src/patch/bsl.c	2021-10-29 06:50:16.393709700 +0900
@@ -31,7 +31,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "patch/bsl.h"
 
 
diff -Naur ucon64/src/patch/gg.c ucon64.dos/src/patch/gg.c
--- ucon64/src/patch/gg.c	2021-10-25 21:59:20.282506700 +0900
+++ ucon64.dos/src/patch/gg.c	2021-10-29 06:50:16.396709900 +0900
@@ -58,7 +58,7 @@
 #include "misc/archive.h"
 #include "misc/file.h"
 #include "misc/misc.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "console/snes.h"
 #include "patch/gg.h"
 
diff -Naur ucon64/src/patch/ips.c ucon64.dos/src/patch/ips.c
--- ucon64/src/patch/ips.c	2021-09-30 05:09:24.971372700 +0900
+++ ucon64.dos/src/patch/ips.c	2021-10-29 06:50:16.400710100 +0900
@@ -32,7 +32,7 @@
 #include "misc/file.h"
 #include "misc/misc.h"
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "patch/ips.h"
 
 
diff -Naur ucon64/src/patch/patch.c ucon64.dos/src/patch/patch.c
--- ucon64/src/patch/patch.c	2021-10-17 00:03:52.451897400 +0900
+++ ucon64.dos/src/patch/patch.c	2021-10-29 06:50:16.403710300 +0900
@@ -20,7 +20,7 @@
 Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 */
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "patch/patch.h"
 
 
diff -Naur ucon64/src/patch/ppf.c ucon64.dos/src/patch/ppf.c
--- ucon64/src/patch/ppf.c	2021-10-15 22:26:22.172483200 +0900
+++ ucon64.dos/src/patch/ppf.c	2021-10-29 06:50:16.407710500 +0900
@@ -39,7 +39,7 @@
 #include "misc/file.h"
 #include "misc/string.h"                        // MEMCMP2_CASE
 #include "ucon64.h"
-#include "ucon64_misc.h"
+#include "ucon64mi.h"
 #include "patch/ppf.h"
 
 
diff -Naur ucon64/src/ucon64.c ucon64.dos/src/ucon64.c
--- ucon64/src/ucon64.c	2021-10-25 21:56:01.648145500 +0900
+++ ucon64.dos/src/ucon64.c	2021-10-29 06:50:16.412710800 +0900
@@ -82,9 +82,9 @@
 #include "misc/misc.h"
 #include "misc/property.h"
 #include "misc/term.h"
-#include "ucon64_dat.h"
-#include "ucon64_misc.h"
-#include "ucon64_opts.h"
+#include "ucon64da.h"
+#include "ucon64mi.h"
+#include "ucon64op.h"
 #include "console/atari.h"
 #include "console/coleco.h"
 #include "console/console.h"
@@ -109,7 +109,7 @@
 #include "backup/cd64.h"
 #include "backup/cmc.h"
 #include "backup/doctor64.h"
-#include "backup/doctor64jr.h"
+#include "backup/doctorjr.h"
 #include "backup/f2a.h"
 #include "backup/fal.h"
 #include "backup/gbx.h"
@@ -121,12 +121,12 @@
 #include "backup/msg.h"
 #include "backup/pce-pro.h"
 #include "backup/pl.h"
-#include "backup/quickdev16.h"
+#include "backup/quickdev.h"
 #include "backup/sflash.h"
 #include "backup/smc.h"
 #include "backup/smcic2.h"
 #include "backup/smd.h"
-#include "backup/smsgg-pro.h"
+#include "backup/smsggpro.h"
 #include "backup/swc.h"
 #include "backup/ufosd.h"
 #include "patch/aps.h"
diff -Naur ucon64/src/ucon64.h ucon64.dos/src/ucon64.h
--- ucon64/src/ucon64.h	2021-10-25 20:21:12.054719400 +0900
+++ ucon64.dos/src/ucon64.h	2021-10-29 06:50:16.417711100 +0900
@@ -39,7 +39,7 @@
 #endif
 #include "misc/itypes.h"
 #include "misc/parallel.h"
-#include "ucon64_defines.h"                     // MAXBUFSIZE, etc..
+#include "ucon64de.h"                           // MAXBUFSIZE, etc..
 
 
 #define UCON64_ISSET(x) ((x) != UCON64_UNKNOWN)
diff -Naur ucon64/src/ucon64_dat.c ucon64.dos/src/ucon64_dat.c
--- ucon64/src/ucon64_dat.c	2021-10-26 05:58:55.432351200 +0900
+++ ucon64.dos/src/ucon64_dat.c	2021-10-29 06:50:16.422711300 +0900
@@ -61,8 +61,8 @@
 #include "misc/misc.h"
 #include "misc/property.h"
 #include "misc/string.h"
-#include "ucon64_dat.h"
-#include "ucon64_misc.h"
+#include "ucon64da.h"
+#include "ucon64mi.h"
 #include "console/atari.h"
 #include "console/coleco.h"
 #include "console/console.h"
diff -Naur ucon64/src/ucon64_misc.c ucon64.dos/src/ucon64_misc.c
--- ucon64/src/ucon64_misc.c	2021-10-26 06:49:45.999833600 +0900
+++ ucon64.dos/src/ucon64_misc.c	2021-10-29 06:50:16.427711600 +0900
@@ -53,8 +53,8 @@
 #include "misc/string.h"
 #include "misc/term.h"
 #include "ucon64.h"
-#include "ucon64_dat.h"
-#include "ucon64_misc.h"
+#include "ucon64da.h"
+#include "ucon64mi.h"
 
 
 #ifdef  USE_DISCMAGE
diff -Naur ucon64/src/ucon64_misc.h ucon64.dos/src/ucon64_misc.h
--- ucon64/src/ucon64_misc.h	2021-10-17 16:09:06.379384600 +0900
+++ ucon64.dos/src/ucon64_misc.h	2021-10-29 06:50:16.430711800 +0900
@@ -49,7 +49,7 @@
   discmage_gauge          gauge wrapper for libdiscmage
 */
 #ifdef  USE_DISCMAGE
-#include "libdiscmage/libdiscmage.h"            // dm_image_t
+#include "discmage/discmage.h"                  // dm_image_t
 
 #define UCON64_DM_VERSION_MAJOR 0
 #define UCON64_DM_VERSION_MINOR 0
diff -Naur ucon64/src/ucon64_opts.c ucon64.dos/src/ucon64_opts.c
--- ucon64/src/ucon64_opts.c	2021-10-26 05:51:01.840263200 +0900
+++ ucon64.dos/src/ucon64_opts.c	2021-10-29 06:50:16.435712100 +0900
@@ -56,9 +56,9 @@
 #include "misc/parallel.h"
 #include "misc/string.h"
 #include "misc/term.h" // to avoid MinGW warning about using ll prefix in fprintf()
-#include "ucon64_dat.h"
-#include "ucon64_misc.h"
-#include "ucon64_opts.h"
+#include "ucon64da.h"
+#include "ucon64mi.h"
+#include "ucon64op.h"
 #include "console/dc.h"
 #include "console/gb.h"
 #include "console/gba.h"
@@ -76,7 +76,7 @@
 #include "backup/cd64.h"
 #include "backup/cmc.h"
 #include "backup/doctor64.h"
-#include "backup/doctor64jr.h"
+#include "backup/doctorjr.h"
 #include "backup/f2a.h"
 #include "backup/fal.h"
 #include "backup/gbx.h"
@@ -88,12 +88,12 @@
 #include "backup/msg.h"
 #include "backup/pce-pro.h"
 #include "backup/pl.h"
-#include "backup/quickdev16.h"
+#include "backup/quickdev.h"
 #include "backup/sflash.h"
 #include "backup/smc.h"
 #include "backup/smcic2.h"
 #include "backup/smd.h"
-#include "backup/smsgg-pro.h"
+#include "backup/smsggpro.h"
 #include "backup/swc.h"
 #include "backup/ufosd.h"
 #include "patch/aps.h"
